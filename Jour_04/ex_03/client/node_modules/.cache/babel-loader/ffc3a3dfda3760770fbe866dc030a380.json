{"ast":null,"code":"var _jsxFileName = \"/home/audrey/Piscine_MERN/Jour_04/ex_03/client/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Switch, Route, Link, useRouteMatch, useParams } from \"react-router-dom\";\nimport Cookies from 'universal-cookie';\nconst cookies = new Cookies();\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      produits: [],\n      user: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/express_backend\").then(data => {\n      this.setState({\n        produits: data.data.produits\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      class: \"navbar navbar-expand-lg navbar-light bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n      class: \"navbar-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 79\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      class: \"nav-item nav-link\",\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }, \" Home \"), \" \", /*#__PURE__*/React.createElement(Link, {\n      class: \"nav-item nav-link\",\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 42\n      }\n    }, \" Register \"), \" \", /*#__PURE__*/React.createElement(Link, {\n      class: \"nav-item nav-link\",\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 54\n      }\n    }, \" Login \"), \" \", /*#__PURE__*/React.createElement(Link, {\n      class: \"nav-item nav-link\",\n      to: \"/logout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 48\n      }\n    }, \" Logout \")), \" \"), \" \", /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      component: Register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/logout\",\n      component: Logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 20\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/Login\",\n      component: Login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 20\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/dashboard\",\n      component: Dashboard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 20\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      component: Register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 20\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/all/:handle\",\n      component: SeeAll,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 20\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/:handle\",\n      component: Dashboard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 20\n      }\n    }), \" \"), \" \"), \" \", \" \");\n  }\n\n}\n\nclass Register extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleRegister = e => {\n      e.preventDefault();\n      var data = {\n        login: this.refs.usernameItem.value,\n        email: this.refs.emailItem.value,\n        password: this.refs.passwordItem.value,\n        passwordconf: this.refs.passwordconfItem.value\n      };\n      var url = 'http://localhost:3000/register';\n      axios.post(url, data).then(response => console.log(response)).catch(e => console.log(e));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleRegister,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"register[login]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, \" Login \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"usernameItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 58\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 100\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"register[email]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, \" email \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      ref: \"emailItem\",\n      name: \"register[email]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 58\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 121\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"register[password]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, \" Password \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      ref: \"passwordItem\",\n      name: \"register[password]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 64\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 135\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"register[passwordconfirm]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, \" Password Confirm \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      ref: \"passwordconfItem\",\n      name: \"register[passwordconfirm]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 79\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 161\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }), \" \");\n  }\n\n}\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleLogin = e => {\n      e.preventDefault();\n      var data = {\n        email: this.refs.emailItem.value,\n        password: this.refs.passwordItem.value\n      };\n      var url = 'http://localhost:3000/login';\n      axios.post(url, data).then(function (response) {\n        console.log(response);\n\n        if (response.data.good == true) {\n          cookies.set('id', response.data.data.id, {\n            path: '/'\n          });\n          cookies.set('type', response.data.data.type, {\n            path: '/'\n          });\n          cookies.set('login', response.data.data.login, {\n            path: '/'\n          });\n          window.location = \"/\" + response.data.data.login;\n        } else {\n          alert(\"Impossible de vous connecter, veillez rÃ©essayer\");\n        }\n      }).catch(e => console.log(e));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"login[email]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }, \" email \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      ref: \"emailItem\",\n      name: \"login[email]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 59\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 118\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"login[password]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, \" Password \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      ref: \"passwordItem\",\n      name: \"login[password]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 65\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 133\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }), \" \");\n  }\n\n}\n\nclass Dashboard extends React.Component {\n  render() {\n    // console.log(this.props.match.params.handle);\n    // console.log(cookies.get('type'));\n    // console.log(cookies.get('login'));\n    if (cookies.get('id')) {\n      return /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 34\n        }\n      }, \" Bienvenue \", cookies.get('login'), \"! \");\n    } else {\n      window.location = \"/login\";\n    }\n  }\n\n}\n\nclass Logout extends React.Component {\n  render() {\n    cookies.remove('id');\n    cookies.remove('type');\n    cookies.remove('login');\n    return window.location = \"/login\";\n  }\n\n}\n\nclass SeeAll extends React.Component {\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/all/\" + this.props.match.params.handle).then(data => {\n      this.setState({\n        billets: data.data.billets\n      }); // console.log(data.data.billets)\n    });\n  }\n\n  _renderObject() {\n    return Object.entries(ObjectTest).map(([key, value], i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 34\n        }\n      }, \"id is: \", value.id, \"; name is: \", value.name, \" \");\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 30\n      }\n    }, \"\\\"ici on voit les billets de \\\" + this.props.match.params.handle + \\\" ewewew\\\")\", this._renderObject(), \" \");\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/audrey/Piscine_MERN/Jour_04/ex_03/client/src/App.js"],"names":["React","Component","axios","BrowserRouter","Router","Switch","Route","Link","useRouteMatch","useParams","Cookies","cookies","App","constructor","state","produits","user","componentDidMount","get","then","data","setState","render","Register","Logout","Login","Dashboard","SeeAll","handleRegister","e","preventDefault","login","refs","usernameItem","value","email","emailItem","password","passwordItem","passwordconf","passwordconfItem","url","post","response","console","log","catch","handleLogin","good","set","id","path","type","window","location","alert","remove","props","match","params","handle","billets","_renderObject","Object","entries","ObjectTest","map","key","i","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    useRouteMatch,\n    useParams\n} from \"react-router-dom\";\nimport Cookies from 'universal-cookie';\nconst cookies = new Cookies();\n\nclass App extends Component {\n    constructor() {\n        super();\n        this.state = {\n            produits: [],\n            user: [],\n        }\n    }\n\n    componentDidMount() {\n        axios.get(\"http://localhost:5000/express_backend\").then((data) => {\n            this.setState({ produits: data.data.produits });\n        })\n    }\n\n    render() {\n        return ( <\n                div className = \"App\" >\n                <\n                Router >\n                <\n                nav class = \"navbar navbar-expand-lg navbar-light bg-light\" > < div class = \"navbar-nav\" >\n                <\n                Link class = \"nav-item nav-link\"\n                to = \"/\" > Home < /Link> <\n                Link class = \"nav-item nav-link\"\n                to = \"/register\" > Register < /Link> <\n                Link class = \"nav-item nav-link\"\n                to = \"/login\" > Login < /Link> <\n                Link class = \"nav-item nav-link\"\n                to = \"/logout\" > Logout < /Link>\n\n                <\n                /div> < /\n                nav > <\n                Switch >\n                <\n                Route path = \"/register\"\n                component = { Register }\n                /> <\n                Route path = \"/logout\"\n                component = { Logout }\n                /> <\n                Route path = \"/Login\"\n                component = { Login }\n                /> <\n                Route path = \"/dashboard\"\n                component = { Dashboard }\n                /> <\n                Route path = \"/register\"\n                component = { Register }\n                /> <\n                Route path = '/all/:handle'\n                component = { SeeAll }\n                /> <\n                Route path = '/:handle'\n                component = { Dashboard }\n                /> < /\n                Switch > <\n                /Router> {\n                /* <div>{this.state.produits.map((e) => {\n                          return (\n                            <SubComponent nom={e.nom}/>\n                         )\n                       })}</div> */\n            } <\n            /div>\n    );\n}\n}\n\nclass Register extends React.Component {\n        handleRegister = (e) => {\n            e.preventDefault();\n            var data = {\n                login: this.refs.usernameItem.value,\n                email: this.refs.emailItem.value,\n                password: this.refs.passwordItem.value,\n                passwordconf: this.refs.passwordconfItem.value,\n            }\n            var url = 'http://localhost:3000/register';\n            axios.post(url, data)\n                .then(response => console.log(response))\n                .catch(e => console.log(e))\n        }\n\n        render() {\n            return ( <\n                form onSubmit = { this.handleRegister } >\n                <\n                label\n                for = \"register[login]\" > Login < /label><input type=\"text\"  ref=\"usernameItem\"/ > < br / >\n                <\n                label\n                for = \"register[email]\" > email < /label><input type=\"email\"  ref=\"emailItem\" name=\"register[email]\"/ > < br / >\n                <\n                label\n                for = \"register[password]\" > Password < /label><input type=\"password\" ref=\"passwordItem\" name=\"register[password]\"/ > < br / >\n                <\n                label\n                for = \"register[passwordconfirm]\" > Password Confirm < /label><input type=\"password\" ref=\"passwordconfItem\" name=\"register[passwordconfirm]\"/ > < br / >\n                <\n                input type = \"submit\"\n                value = \"Submit\" / > < /form>)\n            }\n        }\n\n        class Login extends React.Component {\n            handleLogin = (e) => {\n                e.preventDefault();\n                var data = {\n                    email: this.refs.emailItem.value,\n                    password: this.refs.passwordItem.value,\n                }\n                var url = 'http://localhost:3000/login';\n                axios.post(url, data)\n                    .then(function(response) {\n                        console.log(response);\n                        if (response.data.good == true) {\n                            cookies.set('id', response.data.data.id, { path: '/' });\n                            cookies.set('type', response.data.data.type, { path: '/' });\n                            cookies.set('login', response.data.data.login, { path: '/' });\n                            window.location = \"/\" + response.data.data.login;\n                        } else {\n                            alert(\"Impossible de vous connecter, veillez rÃ©essayer\")\n                        }\n                    })\n                    .catch(e => console.log(e))\n            }\n\n            render() {\n                return ( <\n                    form onSubmit = { this.handleLogin } >\n                    <\n                    label\n                    for = \"login[email]\" > email < /label><input type=\"email\" ref=\"emailItem\" name=\"login[email]\"/ > < br / >\n                    <\n                    label\n                    for = \"login[password]\" > Password < /label><input type=\"password\" ref=\"passwordItem\" name=\"login[password]\"/ > < br / >\n                    <\n                    input type = \"submit\"\n                    value = \"Submit\" / > < /form>)\n                }\n            }\n\n            class Dashboard extends React.Component {\n                render() {\n                    // console.log(this.props.match.params.handle);\n                    // console.log(cookies.get('type'));\n                    // console.log(cookies.get('login'));\n                    if (cookies.get('id')) {\n                        return ( <\n                            h1 > Bienvenue { cookies.get('login') }! < /h1>\n                        )\n                    } else {\n                        window.location = \"/login\"\n                    }\n                }\n            }\n\n            class Logout extends React.Component {\n\n                render() {\n                    cookies.remove('id');\n                    cookies.remove('type');\n                    cookies.remove('login');\n                    return (window.location = \"/login\")\n\n                }\n            }\n\n            class SeeAll extends React.Component {\n\n                componentDidMount() {\n                    axios.get(\"http://localhost:5000/all/\" + this.props.match.params.handle).then((data) => {\n                        this.setState({ billets: data.data.billets });\n                        // console.log(data.data.billets)\n                    })\n                }\n\n                _renderObject() {\n                    return Object.entries(ObjectTest).map(([key, value], i) => {\n                        return ( <\n                            div key = { key } >\n                            id is: { value.id }; name is: { value.name } <\n                            /div>\n                        )\n                    })\n                }\n\n                render() {\n                    return ( <\n                        div >\n                        \"ici on voit les billets de \" + this.props.match.params.handle + \" ewewew\")\n\n                    { this._renderObject() } <\n                    /div>\n                )\n            }\n\n\n        }\n        export default App;"]},"metadata":{},"sourceType":"module"}