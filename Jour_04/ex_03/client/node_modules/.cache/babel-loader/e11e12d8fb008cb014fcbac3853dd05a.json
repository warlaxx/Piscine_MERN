{"ast":null,"code":"var _jsxFileName = \"/home/audrey/Piscine_MERN/Jour_04/ex_03/client/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Switch, Route, Link, useRouteMatch, useParams } from \"react-router-dom\";\nimport Cookies from 'universal-cookie';\nconst cookies = new Cookies();\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      produits: [],\n      user: [],\n      billets: []\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      class: \"navbar navbar-expand-lg navbar-light bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n      class: \"navbar-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 75\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      class: \"nav-item nav-link\",\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }\n    }, \" Home \"), \" \", /*#__PURE__*/React.createElement(Link, {\n      class: \"nav-item nav-link\",\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 38\n      }\n    }, \" Register \"), \" \", /*#__PURE__*/React.createElement(Link, {\n      class: \"nav-item nav-link\",\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 50\n      }\n    }, \" Login \"), \" \", /*#__PURE__*/React.createElement(Link, {\n      class: \"nav-item nav-link\",\n      to: \"/logout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 44\n      }\n    }, \" Logout \")), \" \"), \" \", /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      component: Register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/logout\",\n      component: Logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 16\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/Login\",\n      component: Login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 16\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/dashboard\",\n      component: Dashboard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 16\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      component: Register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 16\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/all/:handle\",\n      component: SeeAll,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 16\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/billet/edit/:handle\",\n      component: Edit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 16\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/billet/delete/:handle\",\n      component: Delete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 16\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/billet/create\",\n      component: CreateBillet,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 16\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Route, {\n      path: \"/:handle\",\n      component: Dashboard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 16\n      }\n    }), \" \"), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 22\n      }\n    }, \" \"), \" \");\n  }\n\n}\n\nclass Register extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleRegister = e => {\n      e.preventDefault();\n      var data = {\n        login: this.refs.usernameItem.value,\n        email: this.refs.emailItem.value,\n        password: this.refs.passwordItem.value,\n        passwordconf: this.refs.passwordconfItem.value\n      };\n      var url = 'http://localhost:3000/register';\n      axios.post(url, data).then(response => console.log(response)).catch(e => console.log(e));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleRegister,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"register[login]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, \" Login \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"usernameItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 58\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 100\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"register[email]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, \" email \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      ref: \"emailItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 58\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 98\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"register[password]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, \" Password \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      ref: \"passwordItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 64\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 109\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"register[passwordconfirm]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, \" Password Confirm \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      ref: \"passwordconfItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 79\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 128\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }), \" \");\n  }\n\n}\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleLogin = e => {\n      e.preventDefault();\n      var data = {\n        email: this.refs.emailItem.value,\n        password: this.refs.passwordItem.value\n      };\n      var url = 'http://localhost:3000/login';\n      axios.post(url, data).then(function (response) {\n        console.log(response);\n\n        if (response.data.good == true) {\n          cookies.set('id', response.data.data.id, {\n            path: '/'\n          });\n          cookies.set('type', response.data.data.type, {\n            path: '/'\n          });\n          cookies.set('login', response.data.data.login, {\n            path: '/'\n          });\n          window.location = \"/\" + response.data.data.login;\n        } else {\n          alert(\"Impossible de vous connecter, veillez réessayer\");\n        }\n      }).catch(e => console.log(e));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 30\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"login[email]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, \" email \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      ref: \"emailItem\",\n      name: \"login[email]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 63\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 122\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"login[password]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, \" Password \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      ref: \"passwordItem\",\n      name: \"login[password]\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 69\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 137\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }), \" \");\n  }\n\n}\n\nclass Dashboard extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      user: [],\n      billets: []\n    };\n  }\n\n  render() {\n    // console.log(this.props.match.params.handle);\n    // console.log(cookies.get('type'));\n    // console.log(cookies.get('login'));\n    console.log(this.state);\n\n    if (cookies.get('id')) {\n      if (cookies.get('login') == this.props.match.params.handle) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          class: \"container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 42\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 37\n          }\n        }, \" Bienvenue \", cookies.get('login'), \"! \"), \" \");\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          class: \"container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 42\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 37\n          }\n        }, \" Bienvenue sur le blog de \", this.props.match.params.handle, \"! \"), \" \", /*#__PURE__*/React.createElement(\"a\", {\n          href: \"http://localhost:3000/all/\" + this.props.match.params.handle,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 110\n          }\n        }, \" voir tous ses billets \"), \" \");\n      }\n    } else {\n      window.location = \"/login\";\n    }\n  }\n\n}\n\nclass Logout extends React.Component {\n  render() {\n    cookies.remove('id');\n    cookies.remove('type');\n    cookies.remove('login');\n    return window.location = \"/login\";\n  }\n\n}\n\nclass CreateBillet extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleCreate = e => {\n      e.preventDefault();\n      var data = {\n        titre: this.refs.titreItem.value,\n        contenu: this.refs.contenuItem.value,\n        user: cookies.get('id')\n      };\n      var url = 'http://localhost:3000//billet/create';\n      axios.post(url, data).then(function (response) {\n        console.log(response);\n\n        if (response.data == true) {\n          window.location = \"/all/\" + cookies.get('login');\n        } else {\n          alert(\"Impossible de creer un billet, réssayez\");\n        }\n      }).catch(e => console.log(e));\n    };\n  }\n\n  render() {\n    if (cookies.get('id')) {\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleCreate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 42\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 37\n        }\n      }, \" creer un billet \", new Date().getDate(), \" \"), \" \", /*#__PURE__*/React.createElement(\"label\", {\n        for: \"titre\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 90\n        }\n      }, \" Titre \"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"titre\",\n        ref: \"titreItem\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 68\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 120\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        for: \"contenu\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 37\n        }\n      }, \" contenu \"), /*#__PURE__*/React.createElement(\"textarea\", {\n        type: \"textarea\",\n        name: \"contenu\",\n        ref: \"contenuItem\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 72\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 135\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 37\n        }\n      }), \" \");\n    } else {\n      window.location = \"/login\";\n    }\n  }\n\n}\n\nclass Billet extends React.Component {\n  render() {\n    if (this.props.auteur == cookies.get('id')) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 46\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 67\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 41\n        }\n      }, \" \", this.props.titre, \" \", /*#__PURE__*/React.createElement(\"div\", {\n        class: \"float-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 90\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"http://localhost:3000/billet/edit/\" + this.props.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 41\n        }\n      }, \" editer \"), \" \", /*#__PURE__*/React.createElement(\"a\", {\n        href: \"http://localhost:3000/billet/delete/\" + this.props.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 122\n        }\n      }, \" supprimer \"), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        class: \"card-subtitle mb-2 text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 41\n        }\n      }, \" \", this.props.date, \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 113\n        }\n      }, \" \", this.props.contenu, \" \"), \"    \")));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 46\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 67\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 41\n        }\n      }, \" \", this.props.titre, \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 98\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        class: \"card-subtitle mb-2 text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 41\n        }\n      }, \" \", this.props.date, \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 113\n        }\n      }, \" \", this.props.contenu, \" \"), \"    \")));\n    }\n  }\n\n}\n\nclass SeeAll extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      user: [],\n      billets: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/all/\" + this.props.match.params.handle).then(data => {\n      this.setState({\n        billets: data.data.billets\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 42\n      }\n    }, \"\\\"ici on voit les billets de \\\" + \", this.props.match.params.handle, \" + \\\" ewewew\\\"\", this.state.billets.map(e => {\n      return /*#__PURE__*/React.createElement(Billet, {\n        id: e._id,\n        titre: e.titre,\n        contenu: e.contenu,\n        auteur: e.user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 54\n        }\n      });\n    }), \" \");\n  }\n\n}\n\nclass Edit extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      user: [],\n      billets: []\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 42\n      }\n    }, \"ici on ed \");\n  }\n\n}\n\nclass Delete extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSuppression = e => {\n      e.preventDefault();\n      console.log(this.props.match.params.handle);\n      var data = {\n        id: this.props.match.params.handle\n      };\n      var url = 'http://localhost:3000/billet/delete/' + this.props.match.params.handle;\n      axios.post(url, data).then(function (response) {\n        console.log(response);\n\n        if (response.data == true) {\n          window.location = \"/all/\" + cookies.get('login');\n        } else {\n          alert(\"Impossible de vous connecter, veillez réessayer\");\n        }\n      }).catch(e => console.log(e));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSuppression,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 46\n      }\n    }, \"Voulez - vous supprimer ce post ?\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 41\n      }\n    }), \" \");\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/audrey/Piscine_MERN/Jour_04/ex_03/client/src/App.js"],"names":["React","Component","axios","BrowserRouter","Router","Switch","Route","Link","useRouteMatch","useParams","Cookies","cookies","App","constructor","state","produits","user","billets","render","Register","Logout","Login","Dashboard","SeeAll","Edit","Delete","CreateBillet","handleRegister","e","preventDefault","data","login","refs","usernameItem","value","email","emailItem","password","passwordItem","passwordconf","passwordconfItem","url","post","then","response","console","log","catch","handleLogin","good","set","id","path","type","window","location","alert","get","props","match","params","handle","remove","handleCreate","titre","titreItem","contenu","contenuItem","Date","getDate","Billet","auteur","date","componentDidMount","setState","map","_id","handleSuppression"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    useRouteMatch,\n    useParams\n} from \"react-router-dom\";\nimport Cookies from 'universal-cookie';\nconst cookies = new Cookies();\n\nclass App extends Component {\n    constructor() {\n        super();\n        this.state = {\n            produits: [],\n            user: [],\n            billets: [],\n\n        }\n    }\n\n    render() {\n        return ( <\n            div className = \"App\" >\n            <\n            Router >\n            <\n            nav class = \"navbar navbar-expand-lg navbar-light bg-light\" > < div class = \"navbar-nav\" >\n            <\n            Link class = \"nav-item nav-link\"\n            to = \"/\" > Home < /Link> <\n            Link class = \"nav-item nav-link\"\n            to = \"/register\" > Register < /Link> <\n            Link class = \"nav-item nav-link\"\n            to = \"/login\" > Login < /Link> <\n            Link class = \"nav-item nav-link\"\n            to = \"/logout\" > Logout < /Link>\n\n            <\n            /div> <\n            /nav> <\n            Switch >\n            <\n            Route path = \"/register\"\n            component = { Register }\n            /> <\n            Route path = \"/logout\"\n            component = { Logout }\n            /> <\n            Route path = \"/Login\"\n            component = { Login }\n            /> <\n            Route path = \"/dashboard\"\n            component = { Dashboard }\n            /> <\n            Route path = \"/register\"\n            component = { Register }\n            /> <\n            Route path = '/all/:handle'\n            component = { SeeAll }\n            /> <\n            Route path = '/billet/edit/:handle'\n            component = { Edit }\n            /> <\n            Route path = '/billet/delete/:handle'\n            component = { Delete }\n            /> <\n            Route path = '/billet/create'\n            component = { CreateBillet }\n            /> <\n            Route path = '/:handle'\n            component = { Dashboard }\n            /> <\n            /Switch> <\n            /Router> <\n            div > < /div> <\n            /div>\n        );\n    }\n}\n\nclass Register extends React.Component {\n        handleRegister = (e) => {\n            e.preventDefault();\n            var data = {\n                login: this.refs.usernameItem.value,\n                email: this.refs.emailItem.value,\n                password: this.refs.passwordItem.value,\n                passwordconf: this.refs.passwordconfItem.value,\n            }\n            var url = 'http://localhost:3000/register';\n            axios.post(url, data)\n                .then(response => console.log(response))\n                .catch(e => console.log(e))\n        }\n\n        render() {\n            return ( <\n                form onSubmit = { this.handleRegister } >\n                <\n                label\n                for = \"register[login]\" > Login < /label><input type=\"text\"  ref=\"usernameItem\"/ > < br / >\n                <\n                label\n                for = \"register[email]\" > email < /label><input type=\"email\"  ref=\"emailItem\"/ > < br / >\n                <\n                label\n                for = \"register[password]\" > Password < /label><input type=\"password\" ref=\"passwordItem\"/ > < br / >\n                <\n                label\n                for = \"register[passwordconfirm]\" > Password Confirm < /label><input type=\"password\" ref=\"passwordconfItem\"/ > < br / >\n                <\n                input type = \"submit\"\n                value = \"Submit\" / > < /form>)\n            }\n        }\n\n        class Login extends React.Component {\n                handleLogin = (e) => {\n                    e.preventDefault();\n                    var data = {\n                        email: this.refs.emailItem.value,\n                        password: this.refs.passwordItem.value,\n                    }\n                    var url = 'http://localhost:3000/login';\n                    axios.post(url, data)\n                        .then(function(response) {\n                            console.log(response);\n                            if (response.data.good == true) {\n                                cookies.set('id', response.data.data.id, { path: '/' });\n                                cookies.set('type', response.data.data.type, { path: '/' });\n                                cookies.set('login', response.data.data.login, { path: '/' });\n                                window.location = \"/\" + response.data.data.login;\n                            } else {\n                                alert(\"Impossible de vous connecter, veillez réessayer\")\n                            }\n                        })\n                        .catch(e => console.log(e))\n                }\n\n                render() {\n                    return ( <\n                        form onSubmit = { this.handleLogin } >\n                        <\n                        label\n                        for = \"login[email]\" > email < /label><input type=\"email\" ref=\"emailItem\" name=\"login[email]\"/ > < br / >\n                        <\n                        label\n                        for = \"login[password]\" > Password < /label><input type=\"password\" ref=\"passwordItem\" name=\"login[password]\"/ > < br / >\n                        <\n                        input type = \"submit\"\n                        value = \"Submit\" / > < /form>)\n                    }\n                }\n\n                class Dashboard extends React.Component {\n                    constructor() {\n                        super();\n                        this.state = {\n                            user: [],\n                            billets: [],\n                        }\n                    }\n                    render() {\n                        // console.log(this.props.match.params.handle);\n                        // console.log(cookies.get('type'));\n                        // console.log(cookies.get('login'));\n                        console.log(this.state);\n                        if (cookies.get('id')) {\n                            if (cookies.get('login') == this.props.match.params.handle) {\n                                return ( <\n                                    div class = \"container\" >\n                                    <\n                                    h1 > Bienvenue { cookies.get('login') }! < /h1> <\n                                    /div>\n                                )\n                            } else {\n\n\n                                return ( <\n                                    div class = \"container\" >\n                                    <\n                                    h1 > Bienvenue sur le blog de { this.props.match.params.handle }! < /h1> <\n                                    a href = { \"http://localhost:3000/all/\" + this.props.match.params.handle } > voir tous ses billets < /a> <\n                                    /div>\n                                )\n                            }\n                        } else {\n                            window.location = \"/login\"\n                        }\n                    }\n                }\n\n                class Logout extends React.Component {\n                    render() {\n                        cookies.remove('id');\n                        cookies.remove('type');\n                        cookies.remove('login');\n                        return (window.location = \"/login\")\n\n                    }\n                }\n\n                class CreateBillet extends React.Component {\n                        handleCreate = (e) => {\n                            e.preventDefault();\n                            var data = {\n                                titre: this.refs.titreItem.value,\n                                contenu: this.refs.contenuItem.value,\n                                user: cookies.get('id')\n                            }\n                            var url = 'http://localhost:3000//billet/create';\n                            axios.post(url, data)\n                                .then(function(response) {\n                                    console.log(response);\n                                    if (response.data == true) {\n                                        window.location = \"/all/\" + cookies.get('login');\n                                    } else {\n                                        alert(\"Impossible de creer un billet, réssayez\")\n                                    }\n                                })\n                                .catch(e => console.log(e))\n                        }\n\n                        render() {\n                            if (cookies.get('id')) {\n                                return ( <\n                                    form onSubmit = { this.handleCreate } >\n                                    <\n                                    h2 > creer un billet { new Date().getDate() } < /h2> <\n                                    label\n                                    for = \"titre\" > Titre < /label><input type=\"text\" name=\"titre\" ref=\"titreItem\" / > < br / >\n                                    <\n                                    label\n                                    for = \"contenu\" > contenu < /label><textarea type=\"textarea\" name=\"contenu\" ref=\"contenuItem\" / > < br / >\n                                    <\n                                    input type = \"submit\"\n                                    value = \"Submit\" / > < /form>)\n                                }\n                                else {\n                                    window.location = \"/login\"\n                                }\n                            }\n                        }\n\n                        class Billet extends React.Component {\n                            render() {\n                                if (this.props.auteur == cookies.get('id')) {\n                                    return ( <\n                                        div class = \"container\" > < div class = \"card\" >\n                                        <\n                                        div class = \"card-header\" > { this.props.titre } < div class = \"float-right\" >\n                                        <\n                                        a href = { \"http://localhost:3000/billet/edit/\" + this.props.id } > editer < /a> <\n                                        a href = { \"http://localhost:3000/billet/delete/\" + this.props.id } > supprimer < /a> <\n                                        /div></div >\n                                        <\n                                        div class = \"card-body\" >\n                                        <\n                                        h6 class = \"card-subtitle mb-2 text-muted\" > { this.props.date } < /h6> <\n                                        div class = \"card-text\" > { this.props.contenu } < /div>    <\n                                        /div></div >\n                                        <\n                                        /div>\n                                    )\n                                } else {\n                                    return ( <\n                                        div class = \"container\" > < div class = \"card\" >\n                                        <\n                                        div class = \"card-header\" > { this.props.titre } < /div> <\n                                        div class = \"card-body\" >\n                                        <\n                                        h6 class = \"card-subtitle mb-2 text-muted\" > { this.props.date } < /h6> <\n                                        div class = \"card-text\" > { this.props.contenu } < /div>    <\n                                        /div></div >\n                                        <\n                                        /div>\n                                    )\n                                }\n                            }\n                        }\n\n                        class SeeAll extends React.Component {\n                            constructor() {\n                                super();\n                                this.state = {\n                                    user: [],\n                                    billets: [],\n                                }\n                            }\n                            componentDidMount() {\n                                axios.get(\"http://localhost:5000/all/\" + this.props.match.params.handle).then((data) => {\n                                    this.setState({ billets: data.data.billets });\n                                })\n                            }\n\n                            render() {\n                                return ( <\n                                    div >\n                                    \"ici on voit les billets de \" + { this.props.match.params.handle } + \" ewewew\"\n\n                                    {\n                                        this.state.billets.map((e) => {\n                                            return ( <\n                                                Billet id = { e._id }\n                                                titre = { e.titre }\n                                                contenu = { e.contenu }\n                                                auteur = { e.user }\n                                                />\n                                            )\n                                        })\n                                    } <\n                                    /div>\n                                )\n                            }\n\n                        }\n\n                        class Edit extends React.Component {\n                            constructor() {\n                                super();\n                                this.state = {\n                                    user: [],\n                                    billets: [],\n                                }\n                            }\n\n                            render() {\n                                return ( <\n                                    div >\n                                    ici on ed <\n                                    /div>\n                                )\n                            }\n                        }\n\n                        class Delete extends React.Component {\n                                handleSuppression = (e) => {\n                                    e.preventDefault();\n                                    console.log(this.props.match.params.handle)\n                                    var data = {\n                                        id: this.props.match.params.handle,\n                                    }\n                                    var url = 'http://localhost:3000/billet/delete/' + this.props.match.params.handle;\n                                    axios.post(url, data)\n                                        .then(function(response) {\n                                            console.log(response);\n                                            if (response.data == true) {\n                                                window.location = \"/all/\" + cookies.get('login');\n                                            } else {\n                                                alert(\"Impossible de vous connecter, veillez réessayer\")\n                                            }\n                                        })\n                                        .catch(e => console.log(e))\n                                }\n\n                                render() {\n\n                                    return ( <\n                                        form onSubmit = { this.handleSuppression } >\n                                        Voulez - vous supprimer ce post ?\n                                        <\n                                        input type = \"submit\"\n                                        value = \"Submit\" / > < /form>)\n                                    }\n                                }\n\n                                export default App;"]},"metadata":{},"sourceType":"module"}